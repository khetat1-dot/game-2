<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<title>Valentine Game ðŸ’–</title>
<meta name="viewport" content="width=device-width, initial-scale=1" />

<style>
:root{
  --bg1:#1a1b3a;
  --bg2:#2b145f;
  --accent:#ff4d6d;
  --accent2:#ffd166;
  --text:#f4f4ff;
  --muted:#b8b8ff;
}

*{box-sizing:border-box}

body{
  margin:0;
  min-height:100vh;
  font-family:'Segoe UI',system-ui;
  background:linear-gradient(135deg,var(--bg1),var(--bg2));
  color:var(--text);
  display:grid;
  place-items:center;
  overflow:hidden;
}

/* INTRO SCREEN */
.intro{
  position:fixed;
  inset:0;
  display:grid;
  place-items:center;
  background:radial-gradient(circle at center,#3a1c71 0%,#1a1b3a 70%);
  text-align:center;
  padding:30px;
  z-index:10;
  animation:fadeIn 1.5s ease forwards;
}

.intro h1{
  font-size:42px;
  margin:0;
  animation:glow 2s infinite alternate;
}

.intro p{
  color:var(--muted);
  margin:20px 0;
  font-size:18px;
}

@keyframes glow{
  from{text-shadow:0 0 10px #ff4d6d}
  to{text-shadow:0 0 25px #ffd166}
}

@keyframes fadeIn{
  from{opacity:0}
  to{opacity:1}
}

.fadeOut{
  animation:fadeOut 1s forwards;
}

@keyframes fadeOut{
  to{opacity:0;visibility:hidden}
}

/* EXPLODING HEARTS */
.explosion{
  position:absolute;
  font-size:20px;
  pointer-events:none;
  animation:explode 1s ease-out forwards;
}

@keyframes explode{
  to{
    transform:translate(var(--x),var(--y));
    opacity:0;
  }
}

/* GAME LAYOUT */
.wrap{
  width:min(900px,94vw);
  display:grid;
  gap:16px;
  opacity:0;
  transition:opacity 1s ease;
}

.wrap.show{
  opacity:1;
}

.title{
  display:flex;
  justify-content:space-between;
  align-items:center;
}

.badge{
  padding:6px 12px;
  border-radius:999px;
  background:#ffffff14;
  font-weight:600;
}

.progress{
  height:10px;
  background:#ffffff14;
  border-radius:999px;
  overflow:hidden;
}
.progress span{
  display:block;
  height:100%;
  width:0%;
  background:linear-gradient(90deg,var(--accent),var(--accent2));
  transition:width .4s ease;
}

.card{
  background:linear-gradient(180deg,#1a1b3a,#0f1030);
  border-radius:22px;
  padding:28px;
  box-shadow:0 30px 60px rgba(0,0,0,.35);
  display:grid;
  gap:20px;
}

.round{
  font-size:12px;
  text-transform:uppercase;
  color:var(--muted);
  font-weight:700;
}

.question{
  font-size:22px;
  min-height:70px;
}

.btn{
  border:none;
  border-radius:14px;
  padding:12px 18px;
  font-weight:700;
  cursor:pointer;
  background:linear-gradient(135deg,var(--accent),var(--accent2));
}

.countdown{
  padding:10px 14px;
  border-radius:12px;
  background:#ffffff14;
  font-weight:700;
}
</style>
</head>

<body>

<!-- INTRO -->
<div class="intro" id="intro">
  <div>
    <h1 id="introName">For My Cray Ray ðŸ’–</h1>
    <p>One night. Three rounds. Zero holding back.</p>
    <button class="btn" onclick="startGame()">Begin ðŸ’˜</button>
  </div>
</div>

<!-- GAME -->
<div class="wrap" id="gameWrap">
  <div class="title">
    <h2>ðŸ’– Valentine Game Night</h2>
    <span class="badge" id="playerName"></span>
  </div>

  <div class="progress"><span id="progressBar"></span></div>

  <div class="card">
    <div class="round" id="roundTitle"></div>
    <div class="question" id="questionText"></div>

    <div style="display:flex;justify-content:space-between;align-items:center">
      <div class="countdown" id="countdown" hidden>
        Readyâ€¦ <span id="count">3</span>
      </div>
      <button class="btn" id="nextBtn">Answer together ðŸ’ž</button>
    </div>
  </div>
</div>

<script>
const HER_NAME="my Cray Ray";

/* EXPLODING HEART EFFECT */
function explodeName(){
  const nameEl=document.getElementById("introName");
  const rect=nameEl.getBoundingClientRect();

  for(let i=0;i<25;i++){
    const heart=document.createElement("div");
    heart.className="explosion";
    heart.textContent="ðŸ’–";
    heart.style.left=rect.left+rect.width/2+"px";
    heart.style.top=rect.top+rect.height/2+"px";
    heart.style.setProperty("--x",(Math.random()*400-200)+"px");
    heart.style.setProperty("--y",(Math.random()*400-200)+"px");
    document.body.appendChild(heart);

    setTimeout(()=>heart.remove(),1000);
  }
}

window.onload=()=>{
  document.getElementById("playerName").textContent="For "+HER_NAME;
  explodeName();
};

/* INTRO TRANSITION */
function startGame(){
  document.getElementById("intro").classList.add("fadeOut");
  document.getElementById("gameWrap").classList.add("show");
}

/* GAME LOGIC */
const rounds=[
{name:"Round 1 Â· Sweet ðŸŒ¸",questions:[
"Whatâ€™s one little thing that makes your day better?",
"Whatâ€™s something you love about me?"
]},
{name:"Round 2 Â· Flirty ðŸ˜",questions:[
"Whatâ€™s a moment between us that replayed in your head?",
"Whatâ€™s your idea of a perfect night together?"
]},
{name:"Round 3 Â· Spicy ðŸ”¥",questions:[
"Have you ever felt nervous around me?",
"If we spent the night together what would we do?"
]}
];

let r=0,q=0,seen=0;
const total=rounds.reduce((s,x)=>s+x.questions.length,0);

const roundTitle=document.getElementById("roundTitle");
const questionText=document.getElementById("questionText");
const progressBar=document.getElementById("progressBar");
const nextBtn=document.getElementById("nextBtn");
const countdown=document.getElementById("countdown");
const countEl=document.getElementById("count");

function typeText(text){
  questionText.textContent="";
  let i=0;
  const iv=setInterval(()=>{
    questionText.textContent+=text[i];
    i++;
    if(i>=text.length)clearInterval(iv);
  },20);
}

function updateProgress(){
  progressBar.style.width=Math.round((seen/total)*100)+"%";
}

function showQuestion(){
  if(r>=rounds.length)return endGame();
  roundTitle.textContent=rounds[r].name;
  typeText(rounds[r].questions[q]);
}

function startCountdown(){
  countdown.hidden=false;
  let t=3;
  countEl.textContent=t;
  const iv=setInterval(()=>{
    t--;
    countEl.textContent=t;
    if(t<0){
      clearInterval(iv);
      countdown.hidden=true;
      next();
    }
  },800);
}

function next(){
  seen++;
  updateProgress();
  q++;
  if(q>=rounds[r].questions.length){r++;q=0;}
  if(r>=rounds.length)return endGame();
  showQuestion();
}

function endGame(){
  roundTitle.textContent="ðŸ’˜ Final";
  questionText.innerHTML=`
  <div style="text-align:center">
    <h2>Happy Valentineâ€™s Day, ${HER_NAME} ðŸ’–</h2>
    <p>You just unlocked: my heart.</p>
  </div>`;
  progressBar.style.width="100%";
  nextBtn.style.display="none";
}

nextBtn.addEventListener("click",startCountdown);
showQuestion();
updateProgress();
</script>

</body>
</html>
